plugins {
    id 'base'
}

description 'Just a demo'
group 'com.tomgregory'
version '1.0-SNAPSHOT'

import org.apache.tools.ant.filters.ReplaceTokens

tasks.register('generateDsNew', Copy) {
    from 'description'
    into "$buildDir/description"
    filter(ReplaceTokens, tokens: [THEME_PARK_NAME: "Gorly world of darknes"])
}

TaskProvider<Copy> generateDsNew_B = tasks.register('generateDsNew_B', Copy) {
    from 'description'
    into "$buildDir/description_B"

    exclude 'rolers*', 'true*'
    filter(ReplaceTokens, tokens: [THEME_PARK_NAME: "Bee"])

}

tasks.register("ZipDs", Zip) {
    from tasks.named("generateDsNew")
    into "descriptions/some/"
    destinationDirectory = layout.buildDirectory.dir("zip")
    archiveFileName = "description.zip"

}

